## Product spec: Financial Services Loan Assistant Chatbot (v1)
 
### 1) Purpose
 
A lightweight chatbot for a bank/credit union/fintech that answers common loan questions, guides users through next steps, and collects structured intake for follow-up—without giving financial advice or making approvals.
 
### 2) Target users
 
* Prospective borrowers (auto, personal, mortgage, small business)

* Existing borrowers (payment, payoff, statements, escrow, hardship)

* Call-center agents (optional “agent assist” view)
 
### 3) Core use cases (MVP)
 
**A. Loan discovery**
 
* Explain loan types, terms, APR vs interest rate, fees, down payment, LTV, DTI

* Provide eligibility basics (high-level, non-committal) and required documents checklist
 
**B. Pre-qualification / intake (non-binding)**
 
* Collect: loan type, amount, purpose, timeframe, zip/state, employment status, income range, credit range band, collateral info (if applicable)

* Produce: “next steps” + checklist + schedule callback link / application link
 
**C. Application guidance**
 
* Steps, timelines, what to expect, underwriting stages

* Document upload instructions (handoff to portal)
 
**D. Existing loan servicing**
 
* Payment due date, how to pay, autopay setup instructions

* Payoff quote request workflow

* Interest accrual explanation

* Payment posting times, late fees policy overview

* Refinance vs modification explanation (high-level)
 
**E. Hardship & support**
 
* Explain options (deferral, forbearance, hardship programs), collect minimal details, route to specialist
 
### 4) Out of scope / guardrails (v1)
 
* No personalized investment/tax/legal advice

* No guaranteed approvals or exact rate quotes

* No account-specific balances unless authenticated + integrated

* No collection of full SSN, full DOB, card numbers in chat

* No disallowed content: instructions for fraud, evasion, identity theft
 
### 5) Channels & UX
 
* Web widget (desktop/mobile responsive)

* Optional: SMS/WhatsApp later

* UX elements:
 
  * Quick actions: “Check eligibility basics”, “Docs needed”, “Payment help”, “Payoff quote”, “Talk to a human”

  * Form-like structured questions for intake

  * “Summary card” at end with next steps + links
 
### 6) Conversation design
 
**Tone:** calm, compliant, plain-English, financial-services appropriate

**Style:** short paragraphs, confirm understanding, offer options
 
**Key flows (happy path)**
 
1. **Start / triage**
 
* “What can I help with today?”

  Buttons: Explore loans | Apply/Pre-qual | Existing loan | Payment help | Hardship | Speak to agent
 
2. **Explore loans**
 
* Ask 2–3 questions: purpose, amount range, timeframe

* Return: suitable loan types + typical term ranges + general factors affecting rate + docs list + CTA (pre-qual)
 
3. **Pre-qual intake**
 
* Gather inputs (bands/ranges)

* Output: non-binding estimate of steps (not rates), checklist, timeline, and handoff
 
4. **Servicing**
 
* Identify topic: payment, payoff, statements, refinance, escrow

* Provide policy explanations + action links; if needs account data → prompt login
 
5. **Hardship**
 
* Empathize, collect minimal info, provide hotline/callback scheduling
 
### 7) Functional requirements
 
**FR1. Intent detection**
 
* Must classify into: Loan info, Eligibility basics, Pre-qual intake, Application status, Payment, Payoff, Refinance, Hardship, Complaints, Agent handoff, Other.
 
**FR2. Knowledge retrieval**
 
* Answer from approved KB (loan product pages, fees, policies, FAQs, disclosures).

* Cite/quote snippets internally; optionally show “Source: Policy/FAQ” in UI.
 
**FR3. Intake form generation**
 
* For pre-qual or servicing requests, gather structured fields and validate ranges.
 
**FR4. Handoff**
 
* Create a “conversation summary” payload for CRM/ticket:
 
  * Customer name (optional), contact method, intent, collected fields, urgency, transcript, recommended queue.
 
**FR5. Disclosures**
 
* Show compliance banner: “Educational info only; not a commitment to lend; rates/terms subject to approval.”
 
**FR6. Escalation triggers**
 
* Always offer human agent if:
 
  * user asks for rate quote or approval decision

  * hardship/complaint/legal threat

  * repeated confusion (2+ turns)

  * profanity/abuse (route per policy)
 
### 8) Non-functional requirements
 
* **Latency:** <2.5s typical response (web)

* **Availability:** 99.5%+ for MVP

* **Auditability:** store conversation logs + model version + KB version

* **Privacy:** redact PII; tokenization/secure storage for allowed fields

* **Security:** OWASP controls for widget + API; WAF; rate limiting; prompt injection defenses in RAG
 
### 9) Data & integrations (phased)
 
**Phase 1 (no auth)**
 
* Public KB only

* CRM/ticket system (Salesforce/Zendesk/ServiceNow) for leads/cases

* Calendar scheduling link (optional)
 
**Phase 2 (authenticated)**
 
* Account portal SSO

* Loan servicing APIs (payment status, due dates, payoff quote request)

* Document upload portal deep links
 
### 10) Compliance & policy
 
* **PII handling**
 
  * Allowed: name, email/phone, zip/state, income band, credit band

  * Disallowed in chat: full SSN, account numbers, card numbers, full DOB

* **Record retention** per institution policy (e.g., 2–7 years)

* **Disclaimers** in every pre-qual and product response

* **Fair lending**
 
  * No collection/use of protected attributes

  * Avoid steering language

  * Provide consistent, product-neutral explanations
 
### 11) Example intents + sample responses (brief)
 
* **“What credit score do I need for an auto loan?”**

  “Approval depends on several factors… Many lenders consider credit history, income, and debt levels. If you share a rough credit range and the amount you’re considering, I can explain typical documentation and next steps. This is general info, not a lending decision.”
 
* **“Can you tell me my payoff amount?”**

  “Payoff amounts are account-specific and can change daily. If you’re signed in, I can help you request a payoff quote. Otherwise, I can guide you to the payoff request page or connect you with a specialist.”
 
### 12) KB structure (recommended)
 
* Products: Auto, Personal, Mortgage, HELOC, Student, Small Business

* Pricing concepts: APR, fees, points, amortization

* Eligibility concepts: DTI, LTV, employment, collateral

* Servicing: payments, escrow, payoff, delinquency, refinance, hardship

* Disclosures: equal housing/lending, privacy, complaint handling
 
### 13) Metrics & success criteria
 
* Self-serve resolution rate (target 40–60% MVP)

* Lead conversion: pre-qual start → application click

* Handoff quality score (agent feedback)

* Containment without compliance issues (0 critical incidents)

* CSAT / thumbs-up rate
 
### 14) Acceptance criteria (MVP)
 
* Correctly routes top 20 FAQ intents with ≥90% precision in testing set

* Generates a structured intake summary for pre-qual and payoff requests

* Refuses/redirects disallowed PII and advice requests

* Provides disclosures in all relevant flows

* Human handoff works end-to-end with transcript + fields
 
### 15) Minimal API contract (example)
 
* `POST /chat/message` → model response + UI actions

* `POST /intake/lead` → create lead/case with structured fields

* `POST /handoff` → route to queue, attach transcript/summary

* `GET /kb/search?q=` → retrieval results (if separate service)
 